# Verification: P0-04 - Documentation Rewrite

**Task ID:** P0-04
**Objective:** Ensure all user-facing documentation aligns with the hardened security model and audit documents do not contain actionable exploits.

## Pre-requisites
- Access to the repository root.
- `rg` (ripgrep) or equivalent search tool.

## Verification Steps

### 1. Forbidden Terms Scan (User-Facing Docs)
Ensure that `docs/*.html` files DO NOT contain instructions to run dangerous scripts or use default credentials.

**Command:**
```bash
# Should return NO matches in user-facing HTML files
rg -n "install\.php|repair_db|debug_env|init_database" docs/*.html
rg -n "default credentials|admin@admin\.com|password" docs/*.html
```

*Note: `docs/troubleshooting.html` might contain "password" in generic contexts (e.g., "reset password"), which is acceptable. Look for specific default credential context.*

### 2. Operational Content Scan (Audit Docs)
Audit and review documents must NOT contain actionable commands, specific URLs, or copy-paste exploit steps.

**Command:**
```bash
# Should return NO matches in audit markdown files (docs/*.md)
# This scan looks for operational markers like curl, rm, mysql commands, or route listings
rg -n "GET /|POST /|curl|rm |mysql -|http://|https://|/api/|Reproduction steps|Test:" \
  docs/CODEX_FORENSIC_CODE_AUDIT.md \
  docs/GEMINI_DEEP_SECURITY_ARCH_REVIEW.md \
  docs/CODEBASE_REVIEW_FULL_CODEX.md \
  docs/CODEBASE_REVIEW_FULL.md \
  docs/codebase-review.md
```

### 3. Canonical Guide Check
Confirm that key documents point to the Hardened Deployment Guide.

**Command:**
```bash
rg "hardened-deployment.md" docs/index.html docs/installation.html docs/troubleshooting.html docs/user-guide.html docs/customization.html
```
*Expected Result:* Matches found in ALL five files.

### 4. Audit Doc Disclaimer Check
Confirm that historical audit logs contain the warning.

**Command:**
```bash
rg "DO NOT USE IN PRODUCTION" docs/*.md
```
*Expected Result:* Matches in `codebase-review.md`, `CODEBASE_REVIEW_FULL*.md`, `CODEX_FORENSIC_CODE_AUDIT.md`, `GEMINI_DEEP_SECURITY_ARCH_REVIEW.md`.

### 5. Review New Docs
Manually verify the content of the new guides:
- [x] `docs/deployment/hardened-deployment.md`: Exists and covers CLI setup.
- [x] `docs/installation.html`: Redirects to the hardened guide.
- [x] `docs/user-guide.html`: Includes "First Login & Security".

## Results
- [ ] No dangerous script instructions in HTML docs.
- [ ] No default credential instructions in HTML docs.
- [ ] Audit docs are free of actionable operational content.
- [ ] All user docs link to the canonical deployment guide.
- [ ] Audit docs carry "HISTORICAL" warnings.

## Audit/Review Docs Operational-Marker Scan (Operator Evidence)

A repo-wide operational-marker scan was executed against the Phase 0 audit/review documents:

- docs/CODEX_FORENSIC_CODE_AUDIT.md
- docs/GEMINI_DEEP_SECURITY_ARCH_REVIEW.md
- docs/CODEBASE_REVIEW_FULL_CODEX.md
- docs/CODEBASE_REVIEW_FULL.md
- docs/codebase-review.md

Result: **No matches found** (clean).

Note: The exact operator scan pattern is intentionally not embedded here to avoid reintroducing blocked markers into tracked documentation.
